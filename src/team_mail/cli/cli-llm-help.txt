## Commands

### Discover users
team-mail users list                    # JSON array of profiles
team-mail users list --names-only       # One username per line
team-mail users list --no-self          # Exclude yourself (useful for finding recipients)
team-mail users list --tags=auth,api    # Filter by tags
team-mail users get <name>              # JSON profile for one user

### Your profile
team-mail profile show                  # Text summary of your identity
team-mail profile update --status "Working on auth"
team-mail profile update --tags "auth,backend"
team-mail profile update --about "I handle API development"

### Mail
team-mail inbox                         # Summary: "3 unread messages: 2 from alice, 1 from bob"
team-mail inbox read                    # JSONL of unread messages, marks as read
team-mail send <to> <body>              # Send message, outputs {"status":"delivered","to":"...","ts":"..."}

### Admin (requires --password)
team-mail admin init --password <pw>    # First-time setup
team-mail admin auth --password <pw> --user <name>  # Mint user token
team-mail users add <name> <role> [--status] [--tags] [--about]  # Create user

## Output Formats

| Command | Format | Example |
|---------|--------|---------|
| `users list` | JSON array | `[{"name":"alice","role":"Engineer"}]` |
| `users get` | JSON object | `{"name":"alice","role":"Engineer"}` |
| `profile show` | Text | `You are **alice**.\nRole: Engineer` |
| `inbox` | Text | `2 unread messages: 1 from bob, 1 from eve` |
| `inbox read` | JSONL | `{"from":"bob","to":"alice","ts":"...","type":"message","body":"..."}` |
| `send` | JSON | `{"status":"delivered","to":"bob","ts":"..."}` |

## Message Structure

Messages in `inbox read` output:
```json
{"from":"sender-name","to":"your-name","ts":"2026-01-27T10:00:00Z","type":"message","body":"The message text"}
```

## Error Format

```
ERROR: User 'xyz' not found
AVAILABLE: alice, bob, charlie
FIX: Check username spelling or run 'users list'
```

## Auth

All commands use `$TEAM_MAIL_TOKEN` for authentication. Your identity is determined by your token.
